<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON2Table - Expandable Objects Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .demo-info {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #1976d2;
        }
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .feature {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #28a745;
        }
        .feature strong {
            color: #155724;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ”§ JSON2Table - Expandable Objects Demo</h1>
        <p>Test the new expandable nested object functionality</p>
    </div>    <div class="demo-info">
        <h3>ðŸŽ¯ New Features Demonstrated:</h3>
        <div class="feature-list">
            <div class="feature">
                <strong>Expandable Arrays:</strong> Click [+] next to arrays to expand and show each item as table rows
            </div>
            <div class="feature">
                <strong>Smart Column Detection:</strong> Automatically detects columns from array objects
            </div>
            <div class="feature">
                <strong>Inline Array Tables:</strong> Arrays expand directly in the table with proper headers
            </div>
            <div class="feature">
                <strong>Performance Optimized:</strong> Virtual scrolling works seamlessly with expanded arrays
            </div>
            <div class="feature">
                <strong>Visual Hierarchy:</strong> Clear indentation and color coding for expanded content
            </div>
            <div class="feature">
                <strong>Object Modals:</strong> Objects still open in modals for detailed viewing
            </div>
        </div>
    </div>

    <div style="background: #fff3cd; padding: 15px; border-radius: 6px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
        <strong>How to Test:</strong>
        <ol>
            <li>Install the JSON2Table extension</li>
            <li>Click the extension icon</li>
            <li>Click "Detect & Convert JSON" (should find the product data below)</li>
            <li>Click "Open Table Viewer"</li>
            <li>Look for <span style="background: #ddd6fe; padding: 4px 10px; border-radius: 12px; color: #7c3aed; font-weight: 600;">[+] [2] items</span> for arrays</li>
            <li>Click array badges to expand/collapse and see individual items as rows</li>
            <li>Look for <span style="background: #dbeafe; padding: 3px 8px; border-radius: 6px; color: #2563eb; font-weight: 600;">{3} properties</span> for objects</li>
            <li>Click object badges to view in modal popup</li>
        </ol>
    </div>

    <!-- This JSON will be detected by the extension -->
    <script type="application/json">
    {
      "products": [
        {
          "id": 1,
          "title": "Essence Mascara Lash Princess",
          "description": "The Essence Mascara Lash Princess is a popular mascara known for its volumizing and lengthening effects.",
          "category": "beauty",
          "price": 9.99,
          "discountPercentage": 10.48,
          "rating": 2.56,
          "stock": 99,
          "tags": ["beauty", "mascara"],
          "brand": "Essence",
          "sku": "BEA-ESS-ESS-001",
          "weight": 4,
          "dimensions": {
            "width": 15.14,
            "height": 13.08,
            "depth": 22.99
          },
          "warrantyInformation": "1 week warranty",
          "shippingInformation": "Ships in 3-5 business days",
          "availabilityStatus": "In Stock",
          "reviews": [
            {
              "rating": 3,
              "comment": "Would not recommend!",
              "date": "2025-04-30T09:41:02.053Z",
              "reviewerName": "Eleanor Collins",
              "reviewerEmail": "eleanor.collins@x.dummyjson.com"
            },
            {
              "rating": 4,
              "comment": "Very satisfied!",
              "date": "2025-04-30T09:41:02.053Z",
              "reviewerName": "Lucas Gordon",
              "reviewerEmail": "lucas.gordon@x.dummyjson.com"
            }
          ],
          "returnPolicy": "No return policy",
          "minimumOrderQuantity": 48,
          "meta": {
            "createdAt": "2025-04-30T09:41:02.053Z",
            "updatedAt": "2025-04-30T09:41:02.053Z",
            "barcode": "5784719087687",
            "qrCode": "https://cdn.dummyjson.com/public/qr-code.png"
          },
          "images": ["https://cdn.dummyjson.com/product-images/beauty/essence-mascara-lash-princess/1.webp"],
          "thumbnail": "https://cdn.dummyjson.com/product-images/beauty/essence-mascara-lash-princess/thumbnail.webp"
        },
        {
          "id": 2,
          "title": "Eyeshadow Palette with Mirror",
          "description": "The Eyeshadow Palette with Mirror offers a versatile range of eyeshadow shades for creating stunning eye looks.",
          "category": "beauty",
          "price": 19.99,
          "discountPercentage": 18.19,
          "rating": 2.86,
          "stock": 34,
          "tags": ["beauty", "eyeshadow"],
          "brand": "Glamour Beauty",
          "sku": "BEA-GLA-EYE-002",
          "weight": 9,
          "dimensions": {
            "width": 9.26,
            "height": 22.47,
            "depth": 27.67
          },
          "warrantyInformation": "1 year warranty",
          "shippingInformation": "Ships in 2 weeks",
          "availabilityStatus": "In Stock",
          "reviews": [
            {
              "rating": 5,
              "comment": "Great product!",
              "date": "2025-04-30T09:41:02.053Z",
              "reviewerName": "Savannah Gomez",
              "reviewerEmail": "savannah.gomez@x.dummyjson.com"
            }
          ],
          "returnPolicy": "7 days return policy",
          "minimumOrderQuantity": 20,
          "meta": {
            "createdAt": "2025-04-30T09:41:02.053Z",
            "updatedAt": "2025-04-30T09:41:02.053Z",
            "barcode": "9170275171413",
            "qrCode": "https://cdn.dummyjson.com/public/qr-code.png"
          },
          "images": ["https://cdn.dummyjson.com/product-images/beauty/eyeshadow-palette-with-mirror/1.webp"],
          "thumbnail": "https://cdn.dummyjson.com/product-images/beauty/eyeshadow-palette-with-mirror/thumbnail.webp"
        },
        {
          "id": 3,
          "title": "Powder Canister",
          "description": "The Powder Canister is a finely milled setting powder designed to set makeup and control shine.",
          "category": "beauty",
          "price": 14.99,
          "discountPercentage": 19.37,
          "rating": 3.81,
          "stock": 59,
          "tags": ["beauty", "face-powder"],
          "brand": "Velvet Touch",
          "sku": "BEA-VEL-POW-003",
          "weight": 2,
          "dimensions": {
            "width": 24.16,
            "height": 10.7,
            "depth": 11.07
          },
          "warrantyInformation": "2 year warranty",
          "shippingInformation": "Ships in 1-2 business days",
          "availabilityStatus": "In Stock",
          "reviews": [
            {
              "rating": 5,
              "comment": "Very happy with my purchase!",
              "date": "2025-04-30T09:41:02.053Z",
              "reviewerName": "Ethan Thompson",
              "reviewerEmail": "ethan.thompson@x.dummyjson.com"
            },
            {
              "rating": 4,
              "comment": "Great value for money!",
              "date": "2025-04-30T09:41:02.053Z", 
              "reviewerName": "Liam Garcia",
              "reviewerEmail": "liam.garcia@x.dummyjson.com"
            }
          ],
          "returnPolicy": "60 days return policy",
          "minimumOrderQuantity": 25,
          "meta": {
            "createdAt": "2025-04-30T09:41:02.053Z",
            "updatedAt": "2025-04-30T09:41:02.053Z",
            "barcode": "2817839095220",
            "qrCode": "https://cdn.dummyjson.com/public/qr-code.png"
          },
          "images": ["https://cdn.dummyjson.com/product-images/beauty/powder-canister/1.webp"],
          "thumbnail": "https://cdn.dummyjson.com/product-images/beauty/powder-canister/thumbnail.webp"
        }
      ],
      "total": 194,
      "skip": 0,
      "limit": 30
    }
    </script>    <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
        <h3>ðŸ§ª What You Should See:</h3>
        <ul>
            <li><strong>reviews column:</strong> Shows <code>[+] [2] items</code> for first product - click to expand and see rating, comment, date, reviewerName, reviewerEmail as separate columns</li>
            <li><strong>tags column:</strong> Shows <code>[+] [2] items</code> - click to expand and see individual tag values</li>
            <li><strong>images column:</strong> Shows <code>[+] [1] items</code> - click to expand and see URL</li>
            <li><strong>dimensions column:</strong> Shows <code>{3} properties</code> - click to view width, height, depth in modal</li>
            <li><strong>meta column:</strong> Shows <code>{4} properties</code> - click to view createdAt, updatedAt, barcode, qrCode in modal</li>
            <li><strong>Array expansion:</strong> Each array item becomes a separate row with proper column headers</li>
            <li><strong>Visual hierarchy:</strong> Expanded arrays have purple borders and indentation</li>
        </ul>
    </div>

    <div style="margin-top: 20px; padding: 15px; background: #d1ecf1; border-radius: 6px; border-left: 4px solid #17a2b8;">
        <strong>Performance & UX Notes:</strong>
        <ul>
            <li><strong>Inline Arrays:</strong> Arrays expand directly in the table for better data analysis</li>
            <li><strong>Modal Objects:</strong> Objects open in modals to avoid cluttering the table</li>
            <li><strong>Dynamic Heights:</strong> Scroll performance optimized for expanded content</li>
            <li><strong>Column Detection:</strong> Automatically finds all unique properties in array items</li>
            <li><strong>Visual Coding:</strong> Purple theme for arrays, blue theme for objects</li>
            <li><strong>Smart Truncation:</strong> Long values are truncated with hover tooltips</li>
        </ul>
    </div>
</body>
</html>
