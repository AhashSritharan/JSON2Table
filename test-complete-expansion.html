<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON2Table - Objects & Arrays Inline Expansion Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border-radius: 10px;
        }
        .test-section {
            background: #f0f9ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #3b82f6;
        }
        .feature-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .demo-item {
            background: #ffffff;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .demo-item h4 {
            margin: 0 0 10px 0;
            color: #1f2937;
        }
        .badge-example {
            display: inline-block;
            margin: 5px;
        }
        .array-badge-demo {
            background: #ddd6fe;
            padding: 4px 10px;
            border-radius: 12px;
            color: #7c3aed;
            font-weight: 600;
            font-size: 11px;
        }
        .object-badge-demo {
            background: #dbeafe;
            padding: 4px 10px;
            border-radius: 12px;
            color: #2563eb;
            font-weight: 600;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸš€ Complete Inline Expansion Test</h1>
        <p>Test both expandable arrays AND objects without modals!</p>
    </div>

    <div class="test-section">
        <h3>ðŸŽ¯ New Object Expansion Features:</h3>
        <div class="feature-demo">
            <div class="demo-item">
                <h4>ðŸ“¦ Expandable Objects</h4>
                <p>Click object badges like <span class="object-badge-demo">[+] {4} properties</span> to expand object properties inline</p>
            </div>
            <div class="demo-item">
                <h4>ðŸ“‹ Property Table View</h4>
                <p>Objects display as tables with Property, Value, and Type columns</p>
            </div>
            <div class="demo-item">
                <h4>ðŸ”„ Mixed Expansion</h4>
                <p>Expand both arrays and objects simultaneously for complete data exploration</p>
            </div>
            <div class="demo-item">
                <h4>âš¡ No More Modals</h4>
                <p>Browse all data by scrolling - no popup windows needed!</p>
            </div>
        </div>
    </div>

    <div style="background: #fef3c7; padding: 15px; border-radius: 6px; margin-bottom: 20px; border-left: 4px solid #f59e0b;">
        <strong>ðŸ§ª Testing Instructions:</strong>
        <ol>
            <li><strong>Install & Activate:</strong> Make sure the JSON2Table extension is installed and active</li>
            <li><strong>Detect Data:</strong> Click the extension icon â†’ "Detect & Convert JSON"</li>
            <li><strong>Open Viewer:</strong> Click "Open Table Viewer"</li>
            <li><strong>Expand Objects:</strong> Click blue object badges to see property details inline</li>
            <li><strong>Expand Arrays:</strong> Click purple array badges to see array items as table rows</li>
            <li><strong>Expand All:</strong> Use "Expand All" button to expand everything at once</li>
            <li><strong>Scroll & Browse:</strong> Scroll through the table to see all expanded data</li>
            <li><strong>Search:</strong> Use search to find specific values in expanded content</li>
        </ol>
    </div>

    <!-- Complex test data with nested objects and arrays -->
    <script type="application/json">
    {
      "users": [
        {
          "id": 1,
          "username": "john_doe",
          "email": "john@example.com",
          "profile": {
            "firstName": "John",
            "lastName": "Doe",
            "age": 32,
            "verified": true,
            "lastLogin": "2025-07-06T09:30:00.000Z"
          },
          "settings": {
            "theme": "dark",
            "notifications": true,
            "language": "en",
            "timezone": "UTC-5"
          },
          "addresses": [
            {
              "type": "home",
              "street": "123 Main St",
              "city": "New York",
              "state": "NY",
              "zipCode": "10001",
              "country": "USA",
              "isPrimary": true
            },
            {
              "type": "work",
              "street": "456 Business Ave",
              "city": "New York",
              "state": "NY",
              "zipCode": "10002",
              "country": "USA",
              "isPrimary": false
            }
          ],
          "socialMedia": {
            "twitter": "@johndoe",
            "linkedin": "linkedin.com/in/johndoe",
            "github": "github.com/johndoe",
            "website": "johndoe.com"
          },
          "purchases": [
            {
              "orderId": "ORD-001",
              "date": "2025-07-01T14:22:00.000Z",
              "total": 299.99,
              "currency": "USD",
              "status": "delivered",
              "items": 3
            },
            {
              "orderId": "ORD-002", 
              "date": "2025-06-15T10:15:00.000Z",
              "total": 149.50,
              "currency": "USD",
              "status": "shipped",
              "items": 1
            }
          ],
          "preferences": {
            "emailMarketing": false,
            "smsMarketing": true,
            "productUpdates": true,
            "weeklyNewsletter": false
          }
        },
        {
          "id": 2,
          "username": "jane_smith",
          "email": "jane@example.com",
          "profile": {
            "firstName": "Jane",
            "lastName": "Smith",
            "age": 28,
            "verified": true,
            "lastLogin": "2025-07-06T11:45:00.000Z"
          },
          "settings": {
            "theme": "light",
            "notifications": false,
            "language": "en",
            "timezone": "UTC-8"
          },
          "addresses": [
            {
              "type": "home",
              "street": "789 Oak Street",
              "city": "Los Angeles",
              "state": "CA",
              "zipCode": "90210",
              "country": "USA",
              "isPrimary": true
            }
          ],
          "socialMedia": {
            "twitter": "@janesmith",
            "instagram": "instagram.com/janesmith",
            "facebook": "facebook.com/jane.smith"
          },
          "purchases": [
            {
              "orderId": "ORD-003",
              "date": "2025-07-03T16:30:00.000Z",
              "total": 89.99,
              "currency": "USD",
              "status": "processing",
              "items": 2
            }
          ],
          "preferences": {
            "emailMarketing": true,
            "smsMarketing": false,
            "productUpdates": true,
            "weeklyNewsletter": true
          }
        },
        {
          "id": 3,
          "username": "mike_wilson",
          "email": "mike@example.com",
          "profile": {
            "firstName": "Mike",
            "lastName": "Wilson",
            "age": 45,
            "verified": false,
            "lastLogin": "2025-07-05T20:15:00.000Z"
          },
          "settings": {
            "theme": "auto",
            "notifications": true,
            "language": "es",
            "timezone": "UTC-6"
          },
          "addresses": [
            {
              "type": "home",
              "street": "321 Pine Ave",
              "city": "Chicago",
              "state": "IL",
              "zipCode": "60601",
              "country": "USA",
              "isPrimary": true
            },
            {
              "type": "work",
              "street": "654 Corporate Blvd",
              "city": "Chicago",
              "state": "IL",
              "zipCode": "60602",
              "country": "USA",
              "isPrimary": false
            },
            {
              "type": "vacation",
              "street": "987 Beach Road",
              "city": "Miami",
              "state": "FL",
              "zipCode": "33101",
              "country": "USA",
              "isPrimary": false
            }
          ],
          "socialMedia": {
            "linkedin": "linkedin.com/in/mikewilson",
            "github": "github.com/mwilson",
            "website": "mikewilson.dev",
            "youtube": "youtube.com/mikewilson"
          },
          "purchases": [
            {
              "orderId": "ORD-004",
              "date": "2025-06-28T12:00:00.000Z",
              "total": 599.99,
              "currency": "USD",
              "status": "delivered",
              "items": 5
            },
            {
              "orderId": "ORD-005",
              "date": "2025-06-20T09:30:00.000Z",
              "total": 199.99,
              "currency": "USD",
              "status": "delivered",
              "items": 2
            },
            {
              "orderId": "ORD-006",
              "date": "2025-06-10T15:45:00.000Z",
              "total": 79.99,
              "currency": "USD",
              "status": "returned",
              "items": 1
            }
          ],
          "preferences": {
            "emailMarketing": true,
            "smsMarketing": true,
            "productUpdates": false,
            "weeklyNewsletter": true
          }
        }
      ]
    }
    </script>

    <div style="margin-top: 40px; padding: 20px; background: #f1f5f9; border-radius: 8px;">
        <h3>ðŸ“Š Expected Results:</h3>
        <ul>
            <li><strong>Profile Objects:</strong> Should expand to show firstName, lastName, age, verified status, lastLogin as property rows</li>
            <li><strong>Settings Objects:</strong> Should display theme, notifications, language, timezone properties with their types</li>
            <li><strong>Addresses Array:</strong> Should expand to show multiple address records with type, street, city, state, etc. columns</li>
            <li><strong>Social Media Objects:</strong> Should show platform links as property-value pairs</li>
            <li><strong>Purchases Array:</strong> Should display order history with orderId, date, total, status columns</li>
            <li><strong>Preferences Objects:</strong> Should show marketing preferences as boolean values with âœ“/âœ— indicators</li>
            <li><strong>Mixed Expansion:</strong> Should handle both arrays and objects expanded simultaneously</li>
            <li><strong>Search Functionality:</strong> Should find content within expanded objects and arrays</li>
            <li><strong>Performance:</strong> Should scroll smoothly even with multiple expansions</li>
        </ul>
    </div>

    <div style="margin-top: 30px; padding: 15px; background: #dcfce7; border-radius: 6px; border-left: 4px solid #16a34a;">
        <strong>âœ¨ Key Benefits:</strong>
        <p>Now you can explore complex JSON data structures completely inline - no more switching between the main table and popup modals. Everything is accessible by scrolling, making data analysis much more efficient!</p>
    </div>
</body>
</html>
